{% extends "layout.html" %}
{% block body_content %}
    <p>Edit user accounts</p>
    <div>
    {% if users %}
        <table style="width:100%">
        <tr>
            <th>ID</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Permission</th>
            <th>email</th>
        </tr>
        {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.permission }}</td>
                <td>{{ user.email }}</td>
            </tr>
        {% endfor %}
        </table>
    {% endif %}
    </div>
    <br>
    <div class='form'>
        <form method='POST' action=''>
            {{ form.hidden_tag() }}
	    {{ form.id.label }}
            {{ form.id }}
            {% if form.id.errors %}
            <div class="error">
                {% for error in form.id.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
                </div>
            {% endif %}
            <br>
            {{ form.first_name.label }}
            {{ form.first_name }}
            {% if form.first_name.errors %}
            <div class="error">
                {% for error in form.first_name.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
                </div>
            {% endif %}
            <br>
            {{ form.last_name.label }}
            {{ form.last_name }}
            {% if form.last_name.errors %}
            <div class="error">
                {% for error in form.last_name.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
            <br>
            {{ form.role.label }}
            {{ form.role }}
            {% if form.role.errors %}
            <div class="error">
                {% for error in form.role.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
            <br>

            <div class='form_group'>
                {{ form.email.label }}
                {{ form.email }}
                {% if form.email.errors %}
                    <div class='error'>
                        {% for error in form.email.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <br>
                {{ form.password.label }}
                {{ form.password }}
                {% if form.password.errors %}
                    <div class='error'>
                        {% for error in form.password.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
        <br>
        {{ form.confirm_password.label }}
                {{ form.confirm_password }}
                {% if form.confirm_password.errors %}
                    <div class='error'>
                        {% for error in form.confirm_password.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}

            <br>
            <div class='form_group'>
                {{ form.submit }}
            </div>
        </form>
{% endblock body_content %}
